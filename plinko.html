<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>High Risk Plinko</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  body {
    margin: 0;
    background: #1e1e1e;
    color: white;
    font-family: Arial, sans-serif;
    text-align: center;
  }

  h1 {
    margin: 15px 0;
  }

  canvas {
    background: #2b2b2b;
    border: 2px solid white;
    display: block;
    margin: 0 auto;
  }

  button {
    margin: 10px;
    padding: 10px 18px;
    font-size: 16px;
    cursor: pointer;
  }

  #money {
    font-size: 20px;
    margin-top: 10px;
  }
</style>
</head>

<body>

<h1>High Risk Plinko</h1>

<canvas id="game" width="420" height="620"></canvas>

<br>

<button onclick="dropBall()">Drop Ball ($10)</button>
<button onclick="location.href='index.html'">Back to Menu</button>

<div id="money">Money: $100.00</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let money = 100;
const bet = 10;

const gravity = 0.35;
const pinRadius = 4;
const ballRadius = 6;

const rows = 12;          // MORE PINS
const pinSpacing = 32;

const slots = 13;         // MORE MULTIPLIERS

let pins = [];
let balls = [];

/* HIGH RISK MULTIPLIERS
   Bigger as you move away from center */
const multipliers = [
  25, 12, 6, 4, 2, 1, 0.5, 1, 2, 4, 6, 12, 25
];

/* ---------- SETUP ---------- */
function createPins() {
  pins = [];
  for (let row = 0; row < rows; row++) {
    for (let col = 0; col <= row; col++) {
      pins.push({
        x: canvas.width / 2 - row * pinSpacing / 2 + col * pinSpacing,
        y: 80 + row * 40
      });
    }
  }
}

createPins();

/* ---------- BALL ---------- */
function dropBall() {
  if (money < bet) return;

  money -= bet;
  updateMoney();

  balls.push({
    x: canvas.width / 2,
    y: 20,
    vx: (Math.random() - 0.5) * 1.5,
    vy: 0,
    landed: false
  });
}

/* ---------- UPDATE ---------- */
function update() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Draw pins
  ctx.fillStyle = "white";
  for (const p of pins) {
    ctx.beginPath();
    ctx.arc(p.x, p.y, pinRadius, 0, Math.PI * 2);
    ctx.fill();
  }

  // Draw slots
  const slotWidth = canvas.width / slots;
  ctx.font = "12px Arial";
  ctx.textAlign = "center";

  for (let i = 0; i < slots; i++) {
    ctx.fillStyle = "#444";
    ctx.fillRect(i * slotWidth, canvas.height - 60, slotWidth, 60);

    ctx.fillStyle = "white";
    ctx.fillText(
      multipliers[i] + "x",
      i * slotWidth + slotWidth / 2,
      canvas.height - 30
    );
  }

  // Update balls
  for (const ball of balls) {
    if (ball.landed) continue;

    ball.vy += gravity;
    ball.x += ball.vx;
    ball.y += ball.vy;

    // Collisions with pins
    for (const p of pins) {
      const dx = ball.x - p.x;
      const dy = ball.y - p.y;
      const dist = Math.hypot(dx, dy);

      if (dist < ballRadius + pinRadius) {
        ball.vx += dx * 0.05;
        ball.vy *= -0.6;
      }
    }

    // Land in slot
    if (ball.y > canvas.height - 70) {
      const index = Math.floor(ball.x / slotWidth);

      if (multipliers[index] !== undefined) {
        money += bet * multipliers[index];
      }
